<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz da Tia: BTS & Doramas</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, sans-serif;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
            background: #2d0a50 url('bts.jpg') no-repeat center center fixed; 
            background-size: cover;
        }

        .overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(45, 10, 80, 0.5); z-index: 1; }

        .quiz-card {
            position: relative;
            text-align: center;
            width: 90%;
            max-width: 450px;
            background: rgba(255, 255, 255, 0.96);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.5);
            z-index: 2;
        }

        h1 { color: #4a148c; font-size: 19px; margin-bottom: 25px; }

        .btn-option {
            width: 100%; padding: 15px; font-size: 16px; font-weight: bold;
            color: #333; background: #fff; border: 2px solid #ddd;
            border-radius: 12px; cursor: pointer; transition: 0.1s;
            margin-bottom: 10px;
        }

        .btn-correct { background: #2ecc71 !important; color: white !important; border-color: #27ae60 !important; }
        .btn-wrong { background: #e74c3c !important; color: white !important; border-color: #c0392b !important; }

        .menu-container { position: fixed; top: 15px; right: 15px; z-index: 100; }
        select { padding: 8px; border-radius: 5px; background: #4a148c; color: white; border: 1px solid white; }
    </style>
</head>
<body>

    <div class="overlay"></div>

    <audio id="bg-music" loop preload="auto"><source src="bts2.mp3" type="audio/mpeg"></audio>
    <audio id="sound-certo" preload="auto"><source src="acerto.mp3" type="audio/mpeg"></audio>
    <audio id="sound-errado" preload="auto"><source src="erro.mp3" type="audio/mpeg"></audio>

    <div class="menu-container">
        <select id="select-nivel" onchange="mudarNivel()">
            <option value="1">BTS: Fácil</option>
            <option value="2">BTS: Médio</option>
            <option value="3">BTS: Expert</option>
            <option value="4">Doramas: Românticos 1</option>
            <option value="5">Doramas: Românticos 2</option>
        </select>
    </div>

    <div class="quiz-card" id="quiz-content">
        <h1 id="question-text">Iniciando...</h1>
        <div id="options-box"></div>
    </div>

    <script>
        const audioBg = document.getElementById('bg-music');
        const sfxCerto = document.getElementById('sound-certo');
        const sfxErrado = document.getElementById('sound-errado');

        const db = {
            1: [
                { q: "Quantos integrantes tem o BTS?", options: ["7", "9"], correct: "7" },
                { q: "Qual o nome do fandom do BTS?", options: ["ARMY", "BLINK"], correct: "ARMY" },
                { q: "Quem é o líder do grupo?", options: ["RM", "Jin"], correct: "RM" },
                { q: "Quem é o integrante mais novo (maknae)?", options: ["Jungkook", "V"], correct: "Jungkook" },
                { q: "Qual a cor oficial do BTS?", options: ["Roxo", "Amarelo"], correct: "Roxo" }
            ],
            4: [
                { q: "Em 'Pousando no Amor', onde a protagonista cai?", options: ["Coreia do Norte", "Suíça"], correct: "Coreia do Norte" },
                { q: "Dorama com uma advogada que ama baleias?", options: ["Uma Advogada Extraordinária", "Vincenzo"], correct: "Uma Advogada Extraordinária" },
                { q: "Em 'Hometown Cha-Cha-Cha', qual a profissão dela?", options: ["Dentista", "Médica"], correct: "Dentista" }
            ]
            // Adicione os outros níveis conforme o código anterior se desejar
        };

        let perguntasAtuais = [];
        let indexAtual = 0;
        let bloqueado = false;

        function mudarNivel() {
            const nivel = document.getElementById('select-nivel').value;
            perguntasAtuais = db[nivel] || db[1];
            indexAtual = 0;
            load();
        }

        function load() {
            bloqueado = false;
            const optionsBox = document.getElementById('options-box');
            optionsBox.innerHTML = "";

            if (indexAtual < perguntasAtuais.length) {
                const p = perguntasAtuais[indexAtual];
                document.getElementById('question-text').innerText = p.q;
                p.options.forEach(opt => {
                    const btn = document.createElement('button');
                    btn.className = 'btn-option';
                    btn.innerText = opt;
                    btn.onclick = () => check(opt, btn);
                    optionsBox.appendChild(btn);
                });
            } else {
                document.getElementById('question-text').innerText = "Fim do Quiz! ✨";
                optionsBox.innerHTML = `<button class="btn-option" onclick="location.reload()">Jogar de Novo</button>`;
            }
        }

        function check(escolha, btn) {
            if(bloqueado) return;
            bloqueado = true;
            const correta = perguntasAtuais[indexAtual].correct;

            if (escolha === correta) {
                btn.classList.add('btn-correct');
                try { sfxCerto.currentTime = 0; sfxCerto.play(); } catch(e){}
            } else {
                btn.classList.add('btn-wrong');
                try { sfxErrado.currentTime = 0; sfxErrado.play(); } catch(e){}
            }

            setTimeout(() => { indexAtual++; load(); }, 400); // Transição super rápida
        }

        // Inicia o quiz assim que a página carrega
        window.onload = () => {
            mudarNivel();
            document.body.onclick = () => { if(audioBg.paused) audioBg.play(); };
        };
    </script>
</body>
</html>
